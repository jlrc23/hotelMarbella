function showMessiContent(e,t,i,n){var s=.75*jQuery(window).height()+"px";""==n&&(n="500px"),""==t&&(t="Visual Composer Extensions"),new Messi(e,{title:t,titleClass:i,buttons:[{id:0,label:"Close",val:"X"}],modal:!0,modalOpacity:.7,width:n,maxheight:s,zIndex:9999999,viewport:{top:"50%",left:"50%"}})}function loadjscssfile(e,t){if("js"==t){var i=document.createElement("script");i.setAttribute("type","text/javascript"),i.setAttribute("src",e)}else if("css"==t){var i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href",e)}"undefined"!=typeof i&&document.getElementsByTagName("head")[0].appendChild(i)}function removejscssfile(e,t){for(var i="js"==t?"script":"css"==t?"link":"none",n="js"==t?"src":"css"==t?"href":"none",s=document.getElementsByTagName(i),a=s.length;a>=0;a--)s[a]&&null!=s[a].getAttribute(n)&&-1!=s[a].getAttribute(n).indexOf(e)&&s[a].parentNode.removeChild(s[a])}function TS_VCSC_UninstallFontPack(){MessiContent="Do you really want to remove the current custom icon font pack?",new Messi(MessiContent,{title:"Visual Composer Extensions",titleClass:"anim warning",modal:!0,modalOpacity:.7,viewport:{top:"50%",left:"50%"},buttons:[{id:0,label:"Yes",val:"Y"},{id:1,label:"No",val:"N"}],callback:function(e){if("Y"==e){var t={action:"ts_delete_custom_pack"};jQuery.ajax({type:"POST",url:ajaxurl,data:t}).done(function(){}).fail(function(){jQuery("#delete_succes_and_error_message").html('<div class="error customFontUninstalledMessage"><p>Error uninstalling your Custom Font Pack. Try again. If the error persists you will have to delete the file manually.</p></div>')}).always(function(){jQuery(".error").remove(),jQuery("footer p:last-child").html(""),jQuery(".current-font-pack").empty(),jQuery(".preview-icon-code-box").hide(),jQuery("#uninstall-pack-button").attr("disabled","disabled"),jQuery(".dropDownButton").attr("disabled","disabled"),jQuery(".ts-vcsc-custom-pack-buttons").after("<div class=updated customFontUninstalledMessage><p>Custom Font Pack successfully uninstalled!</p></div>"),setTimeout(function(){jQuery(".updated").fadeOut()},3500),jQuery('input[value="Import"]').removeAttr("disabled"),jQuery("#ts_vcsc_custom_pack_field").removeAttr("disabled"),MessiTitle="Visual Composer Extensions",MessiContent="Your Custom Font Pack has been successfully uninstalled.",MessiCode="anim success",new Messi(MessiContent,{title:MessiTitle,titleClass:MessiCode,modal:!0,modalOpacity:.7,viewport:{top:"50%",left:"50%"},buttons:[{id:0,label:"Close",val:"X"}],callback:function(){location.reload()},onclose:function(){location.reload()}})})}}})}function DropDown(e){this.dd=e,this.datatype=this.dd.attr("data-type"),this.placeholder=this.dd.children("span.ts-wrapper-dropdown-name"),this.iconholder=this.dd.children("span.ts-wrapper-dropdown-select"),this.inputholder=this.dd.find("input.ts-wrapper-dropdown-value"),this.defaultvalue=this.dd.find("input.ts-wrapper-dropdown-value").val(),this.opts=this.dd.find("ul.dropdown > li.ts-wrapper-dropdown-item"),this.search=this.dd.find("ul.dropdown > li.ts-wrapper-dropdown-search"),this.filter=this.dd.find("ul.dropdown > li.ts-wrapper-dropdown-search .ts-wrapper-dropdown-filter"),this.val="",this.index=-1,this.initEvents()}if(!1 in window||"undefined"==typeof console){var methods=["log","debug","info","warn","error","assert","dir","dirxml","group","groupEnd","time","timeEnd","count","trace","profile","profileEnd"],emptyFn=function(){};window.console={};for(var i=0;i<methods.length;++i)window.console[methods[i]]=emptyFn}var MessiContent="",MessiCode="",MessiTitle="",MessiWidth="500px";jQuery(document).ready(function(){jQuery('input[value="Import"]').click(function(){var e=jQuery("#ts_vcsc_custom_pack_field").val();if(""==e)return MessiContent="Please select a .zip file containing the font data first.",MessiCode="anim errors",showMessiContent(MessiContent,MessiTitle,MessiCode,MessiWidth),!1;var t=jQuery("#ts_vcsc_custom_pack_field").val().split(".").pop().toLowerCase();-1==jQuery.inArray(t,["zip"])?(MessiContent="Please select a valid .zip file.",MessiCode="anim errors",showMessiContent(MessiContent,MessiTitle,MessiCode,MessiWidth),event.preventDefault()):jQuery("#ts_vcsc_icons_upload_custom_pack_form").submit()})}),jQuery.expr[":"].focus=function(e){return e===document.activeElement&&(e.type||e.href)},DropDown.prototype={initEvents:function(){var e=this;e.dd.unbind("click").on("click",function(){return"icon"==e.datatype?jQuery("#ts-vcsc-extend-font").removeClass("active"):"font"==e.datatype&&jQuery("#ts-vcsc-extend-icon").removeClass("active"),jQuery(this).hasClass("active")?e.filter.is(":focus")||jQuery(this).removeClass("active"):jQuery(this).addClass("active"),!1}),e.search.unbind("click").on("click",function(e){e.preventDefault}),e.filter.unbind("change").change(function(){var t=jQuery(this).val();return 0!=t.length?(e.opts.find("a:not(:Contains("+t+"))").hide(),e.opts.find("a:Contains("+t+")").show()):e.opts.find("a").show(),!1}).unbind("keyup").keyup(function(){jQuery(this).change()}),e.opts.unbind("click").on("click",function(){e.opts.removeClass("active");var t=jQuery(this);t.addClass("active"),e.val=t.text(),e.icon=t.attr("rel"),e.index=t.index(),e.placeholder.text(e.val),e.iconholder.find("i").removeClass().addClass("ts-"+e.icon),e.inputholder.val(e.icon),e.inputholder.trigger("change")})},getValue:function(){return this.val},getIndex:function(){return this.index},reset:function(){var e=this;e.dd.unbind("click"),e.search.unbind("click"),e.filter.unbind("change"),e.filter.unbind("keyup"),e.opts.unbind("click")}},jQuery(document).ready(function(){if(0!=jQuery("#current-font-pack-preview").length){var e=new freewall("#ts-vcsc-extend-preview-list");e.reset({selector:".ts-vcsc-icon-preview",animate:!0,delay:0,gutterX:20,gutterY:20,onResize:function(){e.fitWidth()}}),e.fitWidth()}if(0!=jQuery("#ts_vcsc_preview_container").length){jQuery(".ts-font-dropdown-item").on("click",function(){var t=jQuery(this).attr("data-code"),i=jQuery(this).attr("data-name"),n=jQuery(this).attr("data-author"),s=jQuery(this).attr("data-count");jQuery("#ts-vcsc-extend-preview-name").empty().html("Font Name: "+i),jQuery("#ts-vcsc-extend-preview-author").empty().html("Font Author: "+n),jQuery("#ts-vcsc-extend-preview-count").empty().html("Icon Count: "+s),jQuery("#ts-vcsc-extend-preview-code").empty().html("..."),jQuery("#ts-vcsc-extend-preview-list").empty(),jQuery("#ts-vcsc-icons-"+t).children().clone().appendTo("#ts-vcsc-extend-preview-list"),e.reset({selector:".ts-vcsc-icon-preview",animate:!0,delay:0,gutterX:20,gutterY:20,onResize:function(){e.fitWidth()}}),e.fitWidth(),jQuery(".ts-vcsc-icon-preview").unbind("click").on("click",function(){var e=jQuery(this).attr("data-name");jQuery(this).attr("data-code"),jQuery("#ts-vcsc-extend-preview-code").empty().html("<i class='"+e+"'></i> "+e),jQuery(".ts-vcsc-icon-preview").removeClass("active"),jQuery(this).addClass("active")})});var e=new freewall("#ts-vcsc-extend-preview-list");e.reset({selector:".ts-vcsc-icon-preview",animate:!0,delay:0,gutterX:20,gutterY:20,onResize:function(){e.fitWidth()}}),e.fitWidth(),jQuery(".ts-vcsc-icon-preview").unbind("click").on("click",function(){var e=jQuery(this).attr("data-name");jQuery(this).attr("data-code"),jQuery("#ts-vcsc-extend-preview-code").empty().html("<i class='"+e+"'></i> "+e),jQuery(".ts-vcsc-icon-preview").removeClass("active"),jQuery(this).addClass("active")})}}),jQuery(window).load(function(){});