!function(e){function t(t,s){this.element=t,this.settings=e.extend({},n,s),this._defaults=n,this._name=i,this.targetDate=null,this.targetTimezone=null,this.days=null,this.hours=null,this.minutes=null,this.seconds=null,this.milliseconds=null,this.deciseconds=null,this.intervalId=null,this.wrapsExists=new Array,this.oldValues=new Array,this.changed=!1,this.init()}var i="countEverest",n={day:1,month:1,year:2050,hour:0,minute:0,second:0,millisecond:0,timeZone:!1,daysWrapper:".ce-days",hoursWrapper:".ce-hours",minutesWrapper:".ce-minutes",secondsWrapper:".ce-seconds",decisecondsWrapper:".ce-dseconds",millisecondsWrapper:".ce-mseconds",daysLabelWrapper:".ce-days-label",hoursLabelWrapper:".ce-hours-label",minutesLabelWrapper:".ce-minutes-label",secondsLabelWrapper:".ce-seconds-label",decisecondsLabelWrapper:".ce-dseconds-label",millisecondsLabelWrapper:".ce-mseconds-label",daysLabel:"Days",dayLabel:"Day",hoursLabel:"Hours",hourLabel:"Hour",minutesLabel:"Minutes",minuteLabel:"Minute",secondsLabel:"Seconds",secondLabel:"Second",decisecondsLabel:"Deciseconds",decisecondLabel:"Decisecond",millisecondsLabel:"Milliseconds",millisecondLabel:"Millisecond",timeout:1e3,highspeedTimeout:4,leftHandZeros:!0,wrapDigits:!0,dayInMilliseconds:864e5,hourInMilliseconds:36e5,minuteInMilliseconds:6e4,secondInMilliseconds:1e3,decisecondInMilliseconds:100,onInit:null,beforeCalculation:null,afterCalculation:null,onCalculation:null,onChange:null,onComplete:null};t.prototype={init:function(){var t=this,i=t.element,n=t.settings;t.setTargetDate(new Date(n.year,n.month-1,n.day,n.hour,n.minute,n.second)),(e(i).find(n.decisecondsWrapper).length>0||e(i).find(n.millisecondsWrapper).length>0)&&(n.timeout=n.highspeedTimeout),e.isFunction(n.onInit)&&n.onInit.call(t),t.intervalId=setInterval(function(){t.calculate()},n.timeout),t.calculate()},calculate:function(){var t=this,i=t.settings,n=i.dayInMilliseconds,s=i.hourInMilliseconds,r=i.minuteInMilliseconds,a=i.secondInMilliseconds,o=i.decisecondInMilliseconds,l=t.getCurrentDate(),c=t.getTargetDate(),u=l.getTime(),h=i.timeZone===!1?0:(c.getTimezoneOffset()/60+i.timeZone)*i.hourInMilliseconds,d=c.getTime()-h,p=d-u,f=p,m=!1;e.isFunction(i.beforeCalculation)&&i.beforeCalculation.call(t),t.changed=!1;var g=Math.floor(f/n);f%=n;var y=Math.floor(f/s);f%=s;var v=Math.floor(f/r);f%=r;var b=Math.floor(f/a),w=f%a,x=Math.floor(w/o);g=t.naturalNum(g),y=t.naturalNum(y),v=t.naturalNum(v),b=t.naturalNum(b),w=t.naturalNum(w),x=t.naturalNum(x),t.days=g,t.hours=y,t.minutes=v,t.seconds=b,t.milliseconds=w,t.deciseconds=x,t.output(),Math.floor(p/i.timeout)<=0&&(m=!0,(null!=i.millisecondsWrapper||null!=i.decisecondsWrapper)&&(m=0>=p?!0:!1)),1==m&&(e.isFunction(i.onComplete)&&i.onComplete.call(t),clearInterval(t.intervalId)),e.isFunction(i.onCalculation)&&i.onCalculation.call(t),e.isFunction(i.afterCalculation)&&i.afterCalculation.call(t)},output:function(){var t=this,i=t.settings,n=t.days,s=t.hours,r=t.minutes,a=t.seconds,o=t.deciseconds,l=t.milliseconds,c=i.dayLabel,u=i.hourLabel,h=i.minuteLabel,d=i.secondLabel,p=i.decisecondLabel,f=i.millisecondsLabel,m=1==n&&null!==c?c:i.daysLabel,g=1==s&&null!==u?u:i.hoursLabel,y=1==r&&null!==h?h:i.minutesLabel,v=1==a&&null!==d?d:i.secondsLabel,b=1==o&&null!==p?p:i.decisecondsLabel,w=1==l&&null!==f?f:i.millisecondsLabel;t.writeToDom(i.daysLabelWrapper,m),t.writeToDom(i.hoursLabelWrapper,g),t.writeToDom(i.minutesLabelWrapper,y),t.writeToDom(i.secondsLabelWrapper,v),t.writeToDom(i.decisecondsLabelWrapper,b),t.writeToDom(i.millisecondsLabelWrapper,w),1==i.leftHandZeros&&(n=t.strPad(n,2),s=t.strPad(s,2),r=t.strPad(r,2),a=t.strPad(a,2),l=t.strPad(l,3)),1==i.wrapDigits&&(n=t.wrapChars(n,"ce-days-digit"),s=t.wrapChars(s,"ce-hours-digit"),r=t.wrapChars(r,"ce-minutes-digit"),a=t.wrapChars(a,"ce-seconds-digit"),o=t.wrapChars(o,"ce-dseconds-digit"),l=t.wrapChars(l,"ce-mseconds-digit")),t.writeToDom(i.daysWrapper,n),t.writeToDom(i.hoursWrapper,s),t.writeToDom(i.minutesWrapper,r),t.writeToDom(i.secondsWrapper,a),t.writeToDom(i.decisecondsWrapper,o),t.writeToDom(i.millisecondsWrapper,l),e.isFunction(i.onChange)&&1==t.changed&&i.onChange.call(t)},setTargetDate:function(e){this.targetDate=e},getTargetDate:function(){return this.targetDate},getCurrentDate:function(){return new Date},getOptions:function(){return this.settings},naturalNum:function(e){return 0>e?0:e},strPad:function(e,t,i){var n=e.toString();for(i||(i="0");n.length<t;)n=i+n;return n},wrapChars:function(e,t){var i="";e=e.toString();for(var n=0;n<e.length;n++)i+='<span class="'+t+'">'+e[n]+"</span>";return i},writeToDom:function(t,i){var n=this,s=e(n.element);n.settings,null==n.wrapsExists[t]&&(n.wrapsExists[t]=s.find(t).length>0?!0:!1),n.oldValues[t]!=i&&n.wrapsExists[t]&&(n.oldValues[t]=i,s.find(t).html(i),n.changed=!0)}},e.fn[i]=function(n){return this.each(function(){var s="plugin_";e.data(this,s+i)||e.data(this,s+i,new t(this,n))})}}(jQuery,window,document);